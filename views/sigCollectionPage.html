<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draw your Signature</title>
</head>
<script src ="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
<link rel="stylesheet" href="styles.css" type = "text/css">

<h3>1.Draw your signature below</h3>

<body onload = "init()">
    <div class = "row">
        <div class = "col-4">
            <a href="clientServiceAgreement.html">Back to Authorization Form</a>
            
        </div>
        <div class = "col-8 ">
            <input type = "submit" id = "backbutton" value = "Back" onclick = "goBack();">
        </div>
    </div>
    
    <div id = "sketchpadapp">
        <div class = "row col-12 signatureboxes">
            <canvas class = "click touchmove" id = "mysketchpad" height = "225" width = "775">
            </canvas>
            <script src = "signaturePadFunctionality.js"></script>
        </div>
        <div class ="row col-12" id = "sigInstructions">
            Sign inside box:
        </div>
        
        <div class ="row userbuttons">
            <div class = "col-6">
                <input type="submit" value="Clear Sketchpad" id="clearbutton" onclick="clearCanvas(canvas), buttonReset();">
                <!--<input type = "button" value = "Undo Mistake" id = "undobutton" onclick = "undo()">-->
            </div>
            <div class = "col-6">
                    
                <form action="/clientForm_Signature" method = "post">
                    <input type = "text"  id = "inputField" name = "inputField" value = "didn't work" style = "display:none">
                    <input type="submit" value = "Submit Signature" id="submitbutton" onclick = "submitSignature();">
                </form>
                
            </div>
        </div>
    </div>

    
    
    <a id="imgdlhelper" style="display:none;" href="" download="signature.png">&nbsp;</a>
    <canvas style="display:none" id = "outputPane"></canvas>
    
    
</body>

<script>
    var submitButton = document.getElementById("submitbutton");
    var clickBtn = document.getElementsByClassName("touchmove")[0];

    submitButton.disabled = true;

    clickBtn.addEventListener('click', function(event){
       submitButton.disabled = false;
    });

    clickBtn.addEventListener('touchmove', function(event){
       submitButton.disabled = false;
    });
    function buttonReset(){
        submitButton.disabled = true;
    }
    
    function goBack(){
        window.history.go(-1);
    }
</script>

</html>